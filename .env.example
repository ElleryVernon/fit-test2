# ============================================
# 데이터베이스 설정 (PostgreSQL via Supabase)
# ============================================

# PostgreSQL 비밀번호
DATABASE_PASSWORD=your_database_password

# DATABASE_URL: Connection pooling을 통한 런타임 연결
# - Supabase Pooler 사용 (포트 6543)
# - pgbouncer를 통한 효율적인 연결 관리
# - connection_limit: 동시 연결 수 제한 (권장: 10-50)
# - pool_timeout: 연결 대기 시간 (초 단위, 권장: 10-30)
# ⚠️ 성능 최적화: connection_limit와 pool_timeout 파라미터 필수!
DATABASE_URL="postgresql://postgres.PROJECT_REF:PASSWORD@aws-1-ap-northeast-2.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=20&pool_timeout=10&sslmode=require"

# DIRECT_URL: 마이그레이션 및 DDL 작업용 직접 연결
# - 포트 5432 (직접 연결)
# - Prisma Migrate, db push 등에 사용
DIRECT_URL="postgresql://postgres.PROJECT_REF:PASSWORD@aws-1-ap-northeast-2.pooler.supabase.com:5432/postgres?sslmode=require"

# ============================================
# Garmin OAuth 설정
# ============================================
# Garmin Developer Portal에서 발급받은 OAuth 자격증명
# https://developer.garmin.com/health-api/overview/

GARMIN_CLIENT_ID=your_garmin_client_id
GARMIN_CLIENT_SECRET=your_garmin_client_secret

# ============================================
# Google OAuth 설정
# ============================================
# Google Cloud Console에서 발급받은 OAuth 자격증명
# https://console.cloud.google.com/apis/credentials

GOOGLE_CLIENT_SECRET=your_google_client_secret
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your_google_client_id

# ============================================
# Apple OAuth 설정
# ============================================
# Apple Developer에서 발급받은 OAuth 자격증명
# https://developer.apple.com/account/resources/identifiers/list

NEXT_PUBLIC_APPLE_CLIENT_ID=your_apple_client_id
APPLE_CLIENT_SECRET=your_apple_client_secret

# ============================================
# Base URL 설정
# ============================================
# 개발: http://localhost:3000
# 프로덕션: https://fit-test2.vercel.app (Vercel 배포 시)
# 프로덕션: https://yourdomain.com (커스텀 도메인 시)

NEXT_PUBLIC_BASE_URL=http://localhost:3000

# ============================================
# Better Auth 설정
# ============================================
# BETTER_AUTH_SECRET: 보안 문자열 생성 방법
# 터미널에서 실행: openssl rand -base64 32
# ⚠️ 프로덕션에서는 반드시 새로 생성된 시크릿 사용

BETTER_AUTH_SECRET=generate_with_openssl_rand_base64_32
BETTER_AUTH_URL=http://localhost:3000

# ============================================
# 프로덕션 환경변수 설정 가이드
# ============================================
# Vercel 배포 시 다음 환경변수들을 설정해야 합니다:
#
# 1. NEXT_PUBLIC_BASE_URL=https://fit-test2.vercel.app
# 2. BETTER_AUTH_URL=https://fit-test2.vercel.app
# 3. BETTER_AUTH_SECRET=<새로 생성된 시크릿>
# 4. DATABASE_URL=<프로덕션 데이터베이스 URL with connection pool>
#    예시: postgresql://...?pgbouncer=true&connection_limit=20&pool_timeout=10&sslmode=require
# 5. DIRECT_URL=<프로덕션 직접 연결 URL>
# 6. GOOGLE_CLIENT_SECRET=<Google OAuth 시크릿>
# 7. GARMIN_CLIENT_SECRET=<Garmin OAuth 시크릿>
#
# Google OAuth 콜백 URL도 설정해야 합니다:
# https://fit-test2.vercel.app/api/auth/callback/google
#
# ⚠️ 성능 최적화 필수 설정:
# - DATABASE_URL에 connection_limit=20 파라미터 추가
# - DATABASE_URL에 pool_timeout=10 파라미터 추가
# - 자세한 내용은 PERFORMANCE_OPTIMIZATION.md 참고
